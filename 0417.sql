-- 0417, 도서대여 데이터베이스 생성 --
CREATE DATABASE book_barrow;
USE book_barrow;

CREATE TABLE user (
user_id int PRIMARY KEY AUTO_INCREMENT,
name varchar(50) NOT NULL,
email varchar(50) NOT NULL UNIQUE,
phone_number varchar(15) NOT NULL UNIQUE ,
address varchar(200) 
); -- clear -- 

CREATE TABLE Book(
book_id int PRIMARY KEY AUTO_INCREMENT,
title varchar(100) NOT NULL,
author varchar(100) NOT NULL,
category_id int,
location_id int,
FOREIGN KEY (category_id) REFERENCES Category(category_id),
FOREIGN KEY (location_id) REFERENCES BookLocation(location_id)
);-- clear --

CREATE TABLE BorrowRecord(
record_id int PRIMARY KEY AUTO_INCREMENT,
user_id int,
book_id int,
borrow_date date NOT NULL,
due_date date NOT NULL,
return_date date,
FOREIGN KEY (user_id) REFERENCES user(user_id),
FOREIGN KEY (book_id) REFERENCES Book(book_id)
);-- clear --

SELECT * FROM borrowrecord ;

CREATE TABLE Category(
category_id int PRIMARY KEY AUTO_INCREMENT,
category_name varchar(50) NOT NULL unique
);-- clear --

CREATE TABLE BookLocation(
location_id int PRIMARY KEY AUTO_INCREMENT,
location varchar(100) NOT NULL UNIQUE
);-- clear -- 



INSERT INTO User (name, email, phone_number, address)
VALUES
('김영희', 'younghee@example.com', '010-1234-5678', '서울시 마포구 상암동'),
('이철수', 'cheolsu@example.com', '010-2345-6789', '서울시 강남구 역삼동'),
('박지영', 'jiyoung@example.com', '010-3456-7890', '서울시 송파구 잠실동'),
('최민수', 'minsu@example.com', '010-4567-8901', '인천시 남동구 구월동'),
('김수진', 'sujin@example.com', '010-5678-9012', '서울시 관악구 신림동'),
('황예원', 'yewon@example.com', '010-6789-0123', '서울시 중구 명동'),
('이현우', 'hyunwoo@example.com', '010-7890-1234', '부산시 해운대구 중동'),
('박성민', 'sungmin@example.com', '010-8901-2345', '서울시 서초구 반포동'),
('한지민', 'jimin@example.com', '010-9012-3456', '대전시 유성구 봉명동'),
('장현준', 'hyunjoon@example.com', '010-0123-4567', '울산시 남구 신정동');

SELECT * FROM USER;


INSERT INTO Category (category_name)
VALUES
('소설'),
('에세이'),
('역사'),
('과학'),
('인문학'),
('경제'),
('예술'),
('컴퓨터/IT'),
('여행'),
('자기계발');

SELECT * FROM category ;

INSERT INTO BookLocation (location)
VALUES
('1층 A구역'),
('1층 B구역'),
('2층 A구역'),
('2층 B구역'),
('3층 A구역'),
('3층 B구역'),
('4층 A구역'),
('4층 B구역'),
('5층 A구역'),
('5층 B구역');

SELECT * FROM booklocation ;

INSERT INTO Book (title, author, category_id, location_id)
VALUES
('자존감 수업', '윤홍균', 10, 1),
('해리포터와 마법사의 돌', 'J.K. 롤링', 1, 2),
('컴퓨터과학이 여는 세계', '김진아', 8, 3),
('세계사를 만든 역사', '안창호', 3, 4),
('달러구트 꿈 백화점', '이미예', 1, 5),
('우리가 빛의 속도로 갈 수 없다면', '김초엽', 5, 6),
('시간의 역사', '스티븐 호킹', 4, 7),
('수학이 알려주는 거짓말의 법칙', '조던 엘렌버그', 4, 8),
('미술관에 간 작가들', '이경록', 7, 9),
('누구나 쉽게 익히는 파이썬', '서진수', 8, 10),
('미래의 선택', '앨빈 토플러', 5, 2),
('인공지능의 시대', '김영성', 8, 4),
('심리학의 이해', '이현진', 5, 3),
('코딩 철학', '정용준', 8, 6),
('탈무드의 지혜', '류시화', 5, 7),
('세계미술사', '김영미', 7, 5),
('데이터 과학', '이승준', 8, 6),
('역사 속의 거짓말', '박종석', 3, 1),
('프랑스 여행기', '김민아', 9, 9),
('영어 회화의 비밀', '최은영', 10, 10);

SELECT * FROM book;

INSERT INTO BorrowRecord (user_id, book_id, borrow_date, due_date, return_date)
VALUES
(1, 1, '2023-03-01', '2023-03-15', '2023-03-13'),
(2, 2, '2023-03-05', '2023-03-19', '2023-03-18'),
(3, 3, '2023-03-10', '2023-03-24', '2023-03-22'),
(4, 4, '2023-03-15', '2023-03-29', '2023-03-28'),
(5, 5, '2023-03-20', '2023-04-03', '2023-04-02'),
(6, 6, '2023-03-25', '2023-04-08', NULL),
(7, 7, '2023-03-30', '2023-04-13', NULL),
(8, 8, '2023-04-04', '2023-04-18', NULL),
(9, 9, '2023-04-09', '2023-04-23', NULL),
(10, 10, '2023-04-14', '2023-04-28', NULL),
(1, 6, '2023-04-16', '2023-04-30', NULL),
(2, 7, '2023-04-11', '2023-04-25', NULL),
(3, 8, '2023-04-06', '2023-04-20', NULL),
(4, 9, '2023-04-01', '2023-04-15', '2023-04-14'),
(5, 10, '2023-03-27', '2023-04-10', '2023-04-09'),
(6, 1, '2023-03-22', '2023-04-05', '2023-04-04'),
(7, 2, '2023-03-17', '2023-03-31', '2023-03-30'),
(8, 3, '2023-03-12', '2023-03-26', '2023-03-25'),
(9, 4, '2023-03-07', '2023-03-21', '2023-03-20'),
(10, 5, '2023-03-02', '2023-03-16', '2023-03-15'),
(6, 16, '2023-01-30', '2023-02-13', '2023-02-12'),
(7, 17, '2023-01-25', '2023-02-08', '2023-02-07'),
(8, 18, '2023-01-20', '2023-02-03', '2023-02-02'),
(9, 19, '2023-01-15', '2023-01-29', '2023-01-28'),
(10, 20, '2023-01-10', '2023-01-24', '2023-01-23'),
(1, 11, '2023-04-15', '2023-04-29', NULL),
(2, 12, '2023-04-10', '2023-04-24', NULL),
(3, 13, '2023-04-05', '2023-04-19', NULL),
(4, 14, '2023-04-01', '2023-04-15', '2023-04-14'),
(5, 15, '2023-03-26', '2023-04-09', '2023-04-08'),
(6, 16, '2023-03-21', '2023-04-04', '2023-04-03'),
(7, 17, '2023-03-16', '2023-03-30', '2023-03-29'),
(8, 18, '2023-03-11', '2023-03-25', '2023-03-24'),
(9, 19, '2023-03-06', '2023-03-20', '2023-03-19'),
(10, 20, '2023-03-01', '2023-03-15', '2023-03-14'),
(1, 11, '2023-02-24', '2023-03-10', '2023-03-09'),
(2, 12, '2023-02-19', '2023-03-05', '2023-03-04'),
(3, 13, '2023-02-14', '2023-02-28', '2023-02-27'),
(4, 14, '2023-02-09', '2023-02-23', '2023-02-22'),
(5, 15, '2023-02-04', '2023-02-18', '2023-02-17'),
(1, 11, '2023-01-05', '2023-01-19', '2023-01-18'),
(2, 12, '2022-12-31', '2023-01-14', '2023-01-13'),
(3, 13, '2022-12-26', '2023-01-09', '2023-01-08'),
(4, 14, '2022-12-21', '2023-01-04', '2023-01-03'),
(5, 15, '2022-12-16', '2022-12-30', '2022-12-29'),
(6, 16, '2022-12-11', '2022-12-25', '2022-12-24'),
(7, 17, '2022-12-06', '2022-12-20', '2022-12-19'),
(8, 18, '2022-12-01', '2022-12-15', '2022-12-14'),
(9, 19, '2022-11-26', '2022-12-10', '2022-12-09'),
(10, 20, '2022-11-21', '2022-12-05', '2022-12-04');

SELECT * FROM borrowrecord ;




















